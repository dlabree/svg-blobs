<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>blob3</title>
  <script src="js/svg.js"></script>
  <script src="js/svg.easing.min.js"></script>
  <style type="text/css">
  body {background:#000000;}
  #drawing1 {width:792px; height:612px; position:absolute;}
  </style>

</head>
<body>
  <div id="drawing1"></div>
  <audio  preload="auto" id="sound1">
    <source src="media/Police-radio-sound.mp3" type="audio/mp3">
  Your browser does not support the audio element.
  </audio>
  <audio  preload="auto" id="sound2">
    <source src="media/Harp-glissando-sound-effect.mp3" type="audio/mp3">
  Your browser does not support the audio element.
  </audio>
<audio  preload="auto" id="sound3">
    <source src="media/Cartoon-gulp-sound-effect.mp3" type="audio/mp3">
  Your browser does not support the audio element.
  </audio>
  <audio  preload="auto" id="sound4">
    <source src="media/Fart-sound-effect.mp3" type="audio/mp3">
  Your browser does not support the audio element.
  </audio>


<script>

if (SVG.supported) {

  var flags = {f1: 0, f2:0, f3:0, f4:0}

  var draw1 = SVG('drawing1').size('100%','100%').fill('#96cb67');

  var path1 = draw1.polygon('192.898,171.136 194.593,226.22 128.492,157.576 252.22,153.339').attr('class', 'hello').click(doStuff);

  var path2 = draw1.path();

  path2.plot('M362.333,367C354,408.837,339.503,405.063,303,408.334 c-35.271,3.16-64.056-21.163-68.667-55.334c-4.537-33.628,32.688-74.277,68.191-66.667S370.29,327.057,362.333,367z').fill('#BC1F46').opacity(0.5).click(doMoreStuff2).attr('class', 'hello3');
  
  //path2.animate(2000).plot('M374.271,355.163c-8.333,41.837-24.938,58.171-61.441,61.441 c-35.271,3.16-56.83-27.271-61.44-61.441c-4.537-33.628,25.937-69.051,61.44-61.44S382.228,315.22,374.271,355.163z').move(300, 250).loop(true, true);

  /*var element = path2;
  alert(element);

  drawing2.click(function() {
  	alert('draw2');
    element.fill('#00ff66');
  });*/



  var path3 = draw1.path();

  path3.plot('M445.667,255.667C413,257,423.681,280.31,395.962,269.97 C367.145,259.22,386.369,219.461,355,211c-32.762-8.838-94.667,31.402-94.667,65.333c0,33.934,45.977,72.32,79.91,72.32 c11.538,0,26.901-11.934,49.901-0.184c19.888,10.16,25.861,34.197,56.855,34.197c33.934,0,44-17.733,44-51.667 S479.572,254.284,445.667,255.667z').fill('#1B4693').opacity(0.8).click(doMoreStuff).attr('class', 'hello2');
  
  path3.animate(2000, 'backInOut').plot('M458.909,271.869c-11.537,0-37.19,34.686-64.909,24.346 c-28.817-10.75-27.631-56.087-59-64.548c-32.762-8.838-59,41.735-59,75.667c0,33.934,32.562,63.915,64.333,52 c26.667-10,32.667-10.75,55.667,1c19.888,10.16,10.673,45,41.667,45c33.934,0,57-41.066,57-75S492.843,271.869,458.909,271.869z').move(200, 200).loop(true, true);

  var path4 = draw1.polygon('626.5,382.666 624.5,459.445 545.325,479.695 608.5,489.695 564.5,550.695 608.5,512.695 632.5,577.695 639.5,486.5 708.5,518.695 667.5,452.237 748.5,382.695 662.5,422.695 704.5,341.195 638.5,440.529').fill('#3ACCDB').click(sparkle).attr('class', 'spark');


function doStuff() {
  var element = SVG.select('polygon.hello');
  playSound("sound1");

if (flags.f1 == 0) {
    flags.f1 = 1;
      element.animate(1000, 'swingTo').transform({ rotation: 180 }).animate(1000, 'swingTo').transform({ x: -200, relative: true, y:-200, relative: true });
    }
    else {
      flags.f1 = 0;
      element.animate(1000, 'swingFrom').transform({ rotation: 0 }).animate(1000, 'swingTo').transform({ x: -200, relative: true, y:-200, relative: true });
    }


}

function doMoreStuff() {
  var element = SVG.select('path.hello2');
  console.log(element);
  element.opacity(0.5);
  playSound("sound3");
}

function doMoreStuff2() {
  var element = SVG.select('path.hello3');
  console.log(element);
  playSound("sound4");

  element.animate(2000, 'bounce').plot('M374.271,355.163c-8.333,41.837-24.938,58.171-61.441,61.441 c-35.271,3.16-56.83-27.271-61.44-61.441c-4.537-33.628,25.937-69.051,61.44-61.44S382.228,315.22,374.271,355.163z').move(400, 200).size(300).loop(false);
}


function sparkle() {
  var element = SVG.select('polygon.spark');
    console.log(flags.f4);
    playSound("sound2");

  if (flags.f4 == 0) {
    flags.f4 = 1;
    element.animate(2000, 'expoIn').plot('591.5,378.5 613.5,452.237 561.5,446.5 608.5,489.695 529.5,549.5 608.5,512.695 598.5,592.5 642.5,512.5 710.5,592.5 667.5,452.237 761.5,459.445 662.5,422.695 669.5,341.195 638.5,440.529').size(200).loop(false);

    }
    else {
      flags.f4 = 0;
    element.animate(2000, 'expoIn').plot('626.5,382.666 624.5,459.445 545.325,479.695 608.5,489.695 564.5,550.695 608.5,512.695 632.5,577.695 639.5,486.5 708.5,518.695 667.5,452.237 748.5,382.695 662.5,422.695 704.5,341.195 638.5,440.529').size(100).loop(false);
    }
  console.log(element);
  }

function playSound(x){
       var audio = document.getElementById(x);
       audio.play();
                 }


} else {
  alert('SVG not supported')
}

</script>


</body>

</html>
